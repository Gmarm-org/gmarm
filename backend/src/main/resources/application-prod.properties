# ========================================
# CONFIGURACIÓN DE PRODUCCIÓN
# ========================================

# Base de datos de producción
spring.datasource.url=jdbc:postgresql://postgres_prod:5432/gmarm_db
spring.datasource.username=${POSTGRES_USER:produser}
spring.datasource.password=${POSTGRES_PASSWORD:prodpass}

# JPA - Configuración optimizada para producción
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# JWT Configuration for Production
app.jwt.secret=${JWT_SECRET}
app.jwt.expiration=86400000

# Logging para producción
logging.level.com.armasimportacion=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Swagger deshabilitado en producción
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=false

# CORS para producción
spring.web.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost,https://yourdomain.com}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*

# Archivos de producción
app.upload.dir=/app/uploads
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Email de producción
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Configuración específica de producción
app.prod-mode=true
app.auto-create-admin=false

# Actuator para monitoreo
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# Cache para producción
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=600s

# Configuración de seguridad adicional
server.servlet.session.timeout=30m
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=10 